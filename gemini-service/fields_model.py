"""
Install the Google AI Python SDK

$ pip install google-generativeai

See the getting started guide for more information:
https://ai.google.dev/gemini-api/docs/get-started/python
"""
import google.generativeai as genai

genai.configure(api_key='AIzaSyACk1QpGciLknlSq-M0as-m4_Vk1vfA6To')

# Create the model
# See https://ai.google.dev/api/python/google/generativeai/GenerativeModel
generation_config = {
    "temperature": 1,
    "top_p": 0.95,
    "top_k": 64,
    "max_output_tokens": 8192,
    "response_mime_type": "text/plain",
}
safety_settings = [
    {
        "category": "HARM_CATEGORY_HARASSMENT",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
    {
        "category": "HARM_CATEGORY_HATE_SPEECH",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
    {
        "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
    {
        "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
]
fields_model = genai.GenerativeModel(
    model_name="gemini-1.5-flash-latest",
    safety_settings=safety_settings,
    generation_config=generation_config,
    system_instruction="בהתנן קורות חיים של אני מגיש אליך, תוציא את עולמות העבודה של קורות החיים הנמצאים ברשימה בסיסית",
)

fields_chat_session = fields_model.start_chat(
    history=[
        {
            "role": "user",
            "parts": [
                "עולמות תוכן הבסיסיים",
                "{\n  \"תחומי עבודה\": [\n    {\n      \"תחום\": \"הנדסה\",\n      \"תת-תחומים\": [\n        \"הנדסת חשמל\",\n        \"הנדסת מכונות\",\n        \"הנדסת תעשייה וניהול\",\n        \"הנדסת תוכנה\",\n        \"הנדסת אלקטרוניקה\"\n      ]\n    },\n    {\n      \"תחום\": \"מדעים ומחקר\",\n      \"תת-תחומים\": [\n        \"מחקר ביוטכנולוגיה\",\n        \"מחקר רפואי\",\n        \"מחקר פיזיקלי\",\n        \"מחקר כימי\",\n        \"מחקר חברתי ורווחה\"\n      ]\n    },\n    {\n      \"תחום\": \"מדיה ותקשורת\",\n      \"תת-תחומים\": [\n        \"עיתונאות ועיתונות\",\n        \"קריאייטיב ועיצוב גרפי\",\n        \"תקשורת ארגונית\",\n        \"פרסום ושיווק\",\n        \"תקשורת דיגיטלית\"\n      ]\n    },\n    {\n      \"תחום\": \"בנקאות וענפי כספים\",\n      \"תת-תחומים\": [\n        \"בנקאות ומימון\",\n        \"השקעות וניירות ערך\",\n        \"ביטוח ופיננסים\",\n        \"ניהול נכסים\",\n        \"מנהלי פיתוח עסקי\"\n      ]\n    },\n    {\n      \"תחום\": \"מסחר ושירותים\",\n      \"תת-תחומים\": [\n        \"מכירות\",\n        \"שירות לקוחות\",\n        \"ניהול מוצר\",\n        \"ניהול פרויקטים\",\n        \"ניהול איכות\"\n      ]\n    },\n    {\n      \"תחום\": \"משאבי אנוש\",\n      \"תת-תחומים\": [\n        \"ניהול משאבי אנוש\",\n        \"פיתוח ארגוני\",\n        \"תכנון ופיתוח ארגוני\",\n        \"הדרכה והוראה\",\n        \"ביטחון ובריאות בעבודה\"\n      ]\n    },\n    {\n      \"תחום\": \"משפט ומנהל עסקים\",\n      \"תת-תחומים\": [\n        \"עריכת חוזים\",\n        \"ייעוץ משפטי\",\n        \"ניהול פיננסי\",\n        \"מנהלי חשבונות\",\n        \"מנהלי תפעול עסקי\"\n      ]\n    },\n    {\n      \"תחום\": \"חינוך והוראה\",\n      \"תת-תחומים\": [\n        \"הוראה בבתי ספר יסודיים\",\n        \"הוראה בבתי ספר תיכוניים\",\n        \"הוראה במוסדות להשכלה גבוהה\",\n        \"הדרכה וחינוך בלתי פורמלי\"\n      ]\n    },\n    {\n      \"תחום\": \"בריאות ורפואה\",\n      \"תת-תחומים\": [\n        \"רפואה כללית\",\n        \"סיעוד\",\n        \"רפואה מתמחה\",\n        \"פיזיותרפיה\",\n        \"בריאות הנפש\"\n      ]\n    },\n    {\n      \"תחום\": \"טכנולוגיה ומידע\",\n      \"תת-תחומים\": [\n        \"פיתוח תוכנה\",\n        \"ניהול מערכות מידע\",\n        \"סייבר ואבטחת מידע\",\n        \"פיתוח אתרי אינטרנט\",\n        \"בינה מלאכותית\"\n      ]\n    },\n    {\n      \"תחום\": \"אמנות ובידור\",\n      \"תת-תחומים\": [\n        \"תיאטרון\",\n        \"מוזיקה\",\n        \"קולנוע וטלוויזיה\",\n        \"אמנות פלסטית\",\n        \"הפקת אירועים\"\n      ]\n    },\n    {\n      \"תחום\": \"תעשייה וייצור\",\n      \"תת-תחומים\": [\n        \"ייצור תעשייתי\",\n        \"הנדסת תהליכים\",\n        \"ניהול ייצור\",\n        \"בקרת איכות\",\n        \"לוגיסטיקה ותפעול\"\n      ]\n    }\n  ]\n}\n",
                "תחזיר בפורמט JSON בלבד איזה עולמות קיימות בקורוח חיים שרק נמצאים ברשימה למעלה",
                "יוסי כהן\nקיבוץ גולן, צפון ישראל\nאימייל: yossi.cohen@example.com\nטלפון: +972-50-987-6543\nלינקדאין: linkedin.com/in/yossicohen\n\n---------------------------------------------\nמטרה\n---------------------------------------------\nאיש בנייה מנוסה עם 10 שנות ניסיון בתחום הבנייה בצפון ישראל. מחפש משרה כמנהל פרויקט בנייה כדי לנצל את המומחיות שלי בניהול אתרים, פיקוח על עבודות בנייה ובקרת איכות.\n\n---------------------------------------------\nניסיון מקצועי\n---------------------------------------------\n\nמנהל פרויקט בנייה\nחברת בנייה וביצוע, צפון ישראל\nינואר 2015 - היום\n- ניהל פרויקטים גדולים לבנייה למגורים ולמסחר, כולל תכנון, ביצוע ובקרת איכות.\n- פיקח על צוותים של עד 50 עובדים, כולל קבלנים, מהנדסים ועובדי שטח.\n- תיאם בין גורמים שונים בפרויקט, כולל לקוחות, ספקים ורשויות מקומיות.\n- יישם שיטות עבודה בטוחות ותקני בטיחות באתרי הבנייה, שהפחיתו את מספר התאונות ב-30%.\n- ניהל תקציבים ולוחות זמנים, והבטיח השלמת פרויקטים בזמן ובתקציב.\n\nמפקח בנייה\nקיבוץ גולן, צפון ישראל\nינואר 2010 - דצמבר 2014\n- פיקח על בניית מבנים חדשים ושיפוצים במבנים קיימים בקיבוץ.\n- תיאם עבודות בין צוותי עבודה שונים, כולל נגרים, חשמלאים ואינסטלטורים.\n- בדק חומרי בניין ואישר את התאמתם לתקנים הדרושים.\n- הכין דוחות התקדמות ונתן דיווחים למנהלי הקיבוץ.\n- תרם לשיפור תהליכי העבודה והגדלת יעילות הצוותים בשטח.\n\n---------------------------------------------\nהשכלה\n---------------------------------------------\n\nתואר ראשון בהנדסה אזרחית\nהטכניון – מכון טכנולוגי לישראל, חיפה, ישראל\nסיום: יוני 2009\n\n---------------------------------------------\nתעודות\n---------------------------------------------\n\n- מנהל עבודה בבנייה, משרד הכלכלה והתעשייה, ישראל\n- תעודת פיקוח בנייה, מכללת צפת\n\n---------------------------------------------\nכישורים\n---------------------------------------------\n\n- ניהול פרויקטי בנייה\n- פיקוח על עבודות בנייה\n- בקרת איכות\n- תיאום בין גורמים שונים בפרויקט\n- ניהול תקציבים ולוחות זמנים\n- שיטות עבודה בטוחות ותקני בטיחות\n- תכנון וביצוע\n- כישורי תקשורת ומנהיגות\n- הכנת דוחות וניתוח נתונים\n\n---------------------------------------------\nשפות\n---------------------------------------------\n\n- עברית (שפת אם)\n- אנגלית (טובה)\n\n---------------------------------------------\nהמלצות\n---------------------------------------------\n\nזמין לפי דרישה\n",
            ],
        },
        {
            "role": "model",
            "parts": [
                "```json\n{\n  \"תחומי עבודה\": [\n    \"הנדסה\",\n    \"ניהול פרויקטים\"\n  ]\n}\n```\n",
            ],
        },
    ]
)