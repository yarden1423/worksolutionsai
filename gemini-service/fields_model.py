"""
Install the Google AI Python SDK

$ pip install google-generativeai

See the getting started guide for more information:
https://ai.google.dev/gemini-api/docs/get-started/python
"""
import google.generativeai as genai

genai.configure(api_key='AIzaSyACk1QpGciLknlSq-M0as-m4_Vk1vfA6To')

# Create the model
# See https://ai.google.dev/api/python/google/generativeai/GenerativeModel
generation_config = {
    "temperature": 1,
    "top_p": 0.95,
    "top_k": 64,
    "max_output_tokens": 8192,
    "response_mime_type": "text/plain",
}
safety_settings = [
    {
        "category": "HARM_CATEGORY_HARASSMENT",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
    {
        "category": "HARM_CATEGORY_HATE_SPEECH",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
    {
        "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
    {
        "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
]
fields_model = genai.GenerativeModel(
    model_name="gemini-1.5-flash-latest",
    safety_settings=safety_settings,
    generation_config=generation_config,
)

fields_chat_session = fields_model.start_chat(
    history=[
        {
            "role": "user",
            "parts": [
                "לפי קורות חיים שאני מגיש, תמצא את העולומות תוכן שהכי מתאימים לקורות חיים",
                "שלומי גולדשטיין\nקיבוץ גליל, צפון ישראל\nאימייל: shlomi.goldstein@example.com\nטלפון: +972-50-123-4567\nלינקדאין: linkedin.com/in/shlomigoldstein\n\n---------------------------------------------\nמטרה\n---------------------------------------------\nאיש חקלאות מסור עם 10 שנות ניסיון בחקלאות וניהול חקלאי בצפון ישראל. מחפש משרה כמנהל חקלאי כדי לנצל את המומחיות שלי בגידול גידולים, ניהול חוות ושיטות חקלאות ברת קיימא.\n\n---------------------------------------------\nניסיון מקצועי\n---------------------------------------------\n\nמנהל חקלאי\nקיבוץ גליל, צפון ישראל\nינואר 2014 - היום\n- ניהל 200 דונם של אדמות חקלאיות, פיקח על גידולים שונים כולל פירות הדר, זיתים וירקות.\n- יישם מערכות השקיה מודרניות, שהובילו לעלייה של 20% ביעילות המים.\n- פיקח על צוות של 30 עובדים חקלאיים, סיפק הכשרה בשיטות חקלאות ברות קיימא ופרקטיקות בטיחות.\n- ביצע ניתוחי קרקע ותכנון סבב גידולים לשמירה על בריאות הקרקע ושיפור התפוקה.\n- פיתח ושמר על קשרים עם מפיצים ושווקים מקומיים, להבטחת מכירת התוצרת במועד.\n\nמפקח חווה\nקיבוץ גליל, צפון ישראל\nינואר 2010 - דצמבר 2013\n- סייע בתפעול היומיומי של החווה, כולל שתילה, קציר ותחזוקת ציוד.\n- פיקח על בריאות הגידולים ויישם אמצעי הדברת מזיקים להפחתת אובדן יבולים.\n- תיאם עם מרכז המחקר החקלאי לאימוץ שיטות וטכנולוגיות חקלאיות חדשניות.\n- שמר על רשומות של פעילויות חקלאיות, מלאי ועסקאות פיננסיות.\n- השתתף בתוכניות קהילתיות לקידום חקלאות בת קיימא וחקלאות אורגנית.\n\n---------------------------------------------\nהשכלה\n---------------------------------------------\n\nתואר ראשון במדעי החקלאות\nהאוניברסיטה העברית בירושלים, קמפוס רחובות, ישראל\nסיום: יוני 2009\n\n---------------------------------------------\nתעודות\n---------------------------------------------\n\n- טכנאי חקלאי מוסמך, משרד החקלאות ופיתוח הכפר, ישראל\n- תעודה בחקלאות בת קיימא, הטכניון – מכון טכנולוגי לישראל\n\n---------------------------------------------\nכישורים\n---------------------------------------------\n\n- ניהול חווה\n- גידול גידולים\n- שיטות חקלאות ברות קיימא\n- מערכות השקיה\n- ניתוח קרקע\n- הדברת מזיקים\n- מנהיגות צוות\n- הפעלת ציוד חקלאי\n- ניתוח נתונים ושמירת רשומות\n- תיאום שוק\n\n---------------------------------------------\nשפות\n---------------------------------------------\n\n- עברית (שפת אם)\n- אנגלית (שוטפת)\n\n---------------------------------------------\nהמלצות\n---------------------------------------------\n\nזמין לפי דרישה\n",
            ],
        },
        {
            "role": "model",
            "parts": [
                "על סמך קורות החיים שהצגת, העולמות התוכן המתאימים ביותר הם:\n\n* **חקלאות:** זהו עולם התוכן המרכזי ביותר בקורות החיים שלך, הכולל ניסיון משמעותי בניהול חווה, גידול גידולים, שיטות חקלאות ברות קיימא, מערכות השקיה וניהול צוות.\n* **ניהול:** ניסיון רב שנים כמנהל חקלאי מצביע על יכולות ניהול חזקות, כולל ניהול משאבים, תכנון, פיקוח על צוות עובדים, קבלת החלטות וקשרים בין-אישיים.\n* **טכנולוגיה:** תיארת שילוב של טכנולוגיות חקלאיות מתקדמות, כולל מערכות השקיה מודרניות, ניתוח נתונים ושמירת רשומות.\n* **אקולוגיה וקיימות:** נסיון בחקלאות אורגנית ובת קיימא מצביע על מודעות סביבתית ועל עניין בנושאים אלו.\n* **מדע וטכנולוגיה חקלאית:** השכלה במדעי החקלאות ותעודות רלוונטיות מצביעים על ידע מקצועי ומעמיק בתחום החקלאות.\n\nחשוב לציין שעולמות התוכן אלו אינם סותרים זה את זה, אלא משלימים אחד את השני ומציגים תמונה כוללת של הכישורים והניסיון שלך. \n\nכדי להבין טוב יותר את העולמות התוכן המתאימים ביותר, מומלץ להתחשב גם במטרות שלך ובתפקידים שאתה מחפש. \n",
            ],
        },
        {
            "role": "user",
            "parts": [
                "תגיש את העולומות תוכן בפורמט רשימת JSON בלבד",
                "תחזיר לי בתור רשימה בבקשה",
            ],
        },
        {
            "role": "model",
            "parts": [
                "```json\n[\n  \"חקלאות\",\n  \"ניהול\",\n  \"טכנולוגיה\",\n  \"אקולוגיה וקיימות\",\n  \"מדע וטכנולוגיה חקלאית\"\n]\n```\n",
            ],
        },
    ]
)