# Create the model
import google.generativeai as genai

genai.configure(api_key='AIzaSyACk1QpGciLknlSq-M0as-m4_Vk1vfA6To')

# See https://ai.google.dev/api/python/google/generativeai/GenerativeModel
generation_config = {
    "temperature": 1,
    "top_p": 0.95,
    "top_k": 64,
    "max_output_tokens": 8192,
    "response_mime_type": "text/plain",
}
safety_settings = [
    {
        "category": "HARM_CATEGORY_HARASSMENT",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
    {
        "category": "HARM_CATEGORY_HATE_SPEECH",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
    {
        "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
    {
        "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
        "threshold": "BLOCK_MEDIUM_AND_ABOVE",
    },
]

traits_model = genai.GenerativeModel(
    model_name="gemini-1.5-flash-latest",
    safety_settings=safety_settings,
    generation_config=generation_config,
    system_instruction="מערכת שמנתחת קורות חיים של משתמש ומבינה את התכונות החזקות שלו",
)

traits_chat_session = traits_model.start_chat(
    history=[
        {
            "role": "user",
            "parts": [
                "לפי קורות חיים של משתמש, תנתח את התכונות של המשתמש שהוא מצטיין בהן ואיזו עבודות הכי מתאימות לו.\n תוציא רק את התכונות בין אישיות של המשתמש",
                "תזהה תכונות של המשתמש ותחזיר אותן בפורמט רשימה של JSON",
                "שלומי גולדשטיין\nקיבוץ גליל, צפון ישראל\nאימייל: shlomi.goldstein@example.com\nטלפון: +972-50-123-4567\nלינקדאין: linkedin.com/in/shlomigoldstein\n\n---------------------------------------------\nמטרה\n---------------------------------------------\nאיש חקלאות מסור עם 10 שנות ניסיון בחקלאות וניהול חקלאי בצפון ישראל. מחפש משרה כמנהל חקלאי כדי לנצל את המומחיות שלי בגידול גידולים, ניהול חוות ושיטות חקלאות ברת קיימא.\n\n---------------------------------------------\nניסיון מקצועי\n---------------------------------------------\n\nמנהל חקלאי\nקיבוץ גליל, צפון ישראל\nינואר 2014 - היום\n- ניהל 200 דונם של אדמות חקלאיות, פיקח על גידולים שונים כולל פירות הדר, זיתים וירקות.\n- יישם מערכות השקיה מודרניות, שהובילו לעלייה של 20% ביעילות המים.\n- פיקח על צוות של 30 עובדים חקלאיים, סיפק הכשרה בשיטות חקלאות ברות קיימא ופרקטיקות בטיחות.\n- ביצע ניתוחי קרקע ותכנון סבב גידולים לשמירה על בריאות הקרקע ושיפור התפוקה.\n- פיתח ושמר על קשרים עם מפיצים ושווקים מקומיים, להבטחת מכירת התוצרת במועד.\n\nמפקח חווה\nקיבוץ גליל, צפון ישראל\nינואר 2010 - דצמבר 2013\n- סייע בתפעול היומיומי של החווה, כולל שתילה, קציר ותחזוקת ציוד.\n- פיקח על בריאות הגידולים ויישם אמצעי הדברת מזיקים להפחתת אובדן יבולים.\n- תיאם עם מרכז המחקר החקלאי לאימוץ שיטות וטכנולוגיות חקלאיות חדשניות.\n- שמר על רשומות של פעילויות חקלאיות, מלאי ועסקאות פיננסיות.\n- השתתף בתוכניות קהילתיות לקידום חקלאות בת קיימא וחקלאות אורגנית.\n\n---------------------------------------------\nהשכלה\n---------------------------------------------\n\nתואר ראשון במדעי החקלאות\nהאוניברסיטה העברית בירושלים, קמפוס רחובות, ישראל\nסיום: יוני 2009\n\n---------------------------------------------\nתעודות\n---------------------------------------------\n\n- טכנאי חקלאי מוסמך, משרד החקלאות ופיתוח הכפר, ישראל\n- תעודה בחקלאות בת קיימא, הטכניון – מכון טכנולוגי לישראל\n\n---------------------------------------------\nכישורים\n---------------------------------------------\n\n- ניהול חווה\n- גידול גידולים\n- שיטות חקלאות ברות קיימא\n- מערכות השקיה\n- ניתוח קרקע\n- הדברת מזיקים\n- מנהיגות צוות\n- הפעלת ציוד חקלאי\n- ניתוח נתונים ושמירת רשומות\n- תיאום שוק\n\n---------------------------------------------\nשפות\n---------------------------------------------\n\n- עברית (שפת אם)\n- אנגלית (שוטפת)\n\n---------------------------------------------\nהמלצות\n---------------------------------------------\n\nזמין לפי דרישה\n",
            ],
        },
        {
            "role": "model",
            "parts": [
                "```json\n{\n  \"תכונות\": [\n    \"ניהול חווה\",\n    \"גידול גידולים\",\n    \"שיטות חקלאות ברות קיימא\",\n    \"מערכות השקיה\",\n    \"ניתוח קרקע\",\n    \"הדברת מזיקים\",\n    \"מנהיגות צוות\",\n    \"הפעלת ציוד חקלאי\",\n    \"ניתוח נתונים ושמירת רשומות\",\n    \"תיאום שוק\",\n    \"עבודה בצוות\",\n    \"אחריות\",\n    \"יכולת עבודה עצמאית\",\n    \"פתרון בעיות\",\n    \"יכולת עבודה תחת לחץ\"\n  ],\n  \"עבודות מתאימות\": [\n    \"מנהל חקלאי\",\n    \"מפקח חווה\",\n    \"יועץ חקלאי\",\n    \"מנהל שיווק חקלאי\",\n    \"מנהל פרויקטים חקלאיים\",\n    \"חוקר חקלאי\",\n    \"מורה לחקלאות\",\n    \"יזם חקלאי\"\n  ]\n}\n```\n",
            ],
        },
        {
            "role": "user",
            "parts": [
                "שלומי גולדשטיין\nקיבוץ גליל, צפון ישראל\nאימייל: shlomi.goldstein@example.com\nטלפון: +972-50-123-4567\nלינקדאין: linkedin.com/in/shlomigoldstein\n\n---------------------------------------------\nמטרה\n---------------------------------------------\nאיש חקלאות מסור עם 10 שנות ניסיון בחקלאות וניהול חקלאי בצפון ישראל. מחפש משרה כמנהל חקלאי כדי לנצל את המומחיות שלי בגידול גידולים, ניהול חוות ושיטות חקלאות ברת קיימא.\n\n---------------------------------------------\nניסיון מקצועי\n---------------------------------------------\n\nמנהל חקלאי\nקיבוץ גליל, צפון ישראל\nינואר 2014 - היום\n- ניהל 200 דונם של אדמות חקלאיות, פיקח על גידולים שונים כולל פירות הדר, זיתים וירקות.\n- יישם מערכות השקיה מודרניות, שהובילו לעלייה של 20% ביעילות המים.\n- פיקח על צוות של 30 עובדים חקלאיים, סיפק הכשרה בשיטות חקלאות ברות קיימא ופרקטיקות בטיחות.\n- ביצע ניתוחי קרקע ותכנון סבב גידולים לשמירה על בריאות הקרקע ושיפור התפוקה.\n- פיתח ושמר על קשרים עם מפיצים ושווקים מקומיים, להבטחת מכירת התוצרת במועד.\n\nמפקח חווה\nקיבוץ גליל, צפון ישראל\nינואר 2010 - דצמבר 2013\n- סייע בתפעול היומיומי של החווה, כולל שתילה, קציר ותחזוקת ציוד.\n- פיקח על בריאות הגידולים ויישם אמצעי הדברת מזיקים להפחתת אובדן יבולים.\n- תיאם עם מרכז המחקר החקלאי לאימוץ שיטות וטכנולוגיות חקלאיות חדשניות.\n- שמר על רשומות של פעילויות חקלאיות, מלאי ועסקאות פיננסיות.\n- השתתף בתוכניות קהילתיות לקידום חקלאות בת קיימא וחקלאות אורגנית.\n\n---------------------------------------------\nהשכלה\n---------------------------------------------\n\nתואר ראשון במדעי החקלאות\nהאוניברסיטה העברית בירושלים, קמפוס רחובות, ישראל\nסיום: יוני 2009\n\n---------------------------------------------\nתעודות\n---------------------------------------------\n\n- טכנאי חקלאי מוסמך, משרד החקלאות ופיתוח הכפר, ישראל\n- תעודה בחקלאות בת קיימא, הטכניון – מכון טכנולוגי לישראל\n\n---------------------------------------------\nכישורים\n---------------------------------------------\n\n- ניהול חווה\n- גידול גידולים\n- שיטות חקלאות ברות קיימא\n- מערכות השקיה\n- ניתוח קרקע\n- הדברת מזיקים\n- מנהיגות צוות\n- הפעלת ציוד חקלאי\n- ניתוח נתונים ושמירת רשומות\n- תיאום שוק\n\n---------------------------------------------\nשפות\n---------------------------------------------\n\n- עברית (שפת אם)\n- אנגלית (שוטפת)\n\n---------------------------------------------\nהמלצות\n---------------------------------------------\n\nזמין לפי דרישה\n",
            ],
        },
        {
            "role": "model",
            "parts": [
                "```json\n{\n  \"תכונות\": [\n    \"ניהול חווה\",\n    \"גידול גידולים\",\n    \"שיטות חקלאות ברות קיימא\",\n    \"מערכות השקיה\",\n    \"ניתוח קרקע\",\n    \"הדברת מזיקים\",\n    \"מנהיגות צוות\",\n    \"הפעלת ציוד חקלאי\",\n    \"ניתוח נתונים ושמירת רשומות\",\n    \"תיאום שוק\",\n    \"עבודה בצוות\",\n    \"אחריות\",\n    \"יכולת עבודה עצמאית\",\n    \"פתרון בעיות\",\n    \"יכולת עבודה תחת לחץ\",\n    \"הכשרה\",\n    \"תקשורת\",\n    \"יחסים בין אישיים\",\n    \"ניהול זמן\",\n    \"עבודה קשה\"\n  ],\n  \"עבודות מתאימות\": [\n    \"מנהל חקלאי\",\n    \"מפקח חווה\",\n    \"יועץ חקלאי\",\n    \"מנהל שיווק חקלאי\",\n    \"מנהל פרויקטים חקלאיים\",\n    \"חוקר חקלאי\",\n    \"מורה לחקלאות\",\n    \"יזם חקלאי\"\n  ]\n}\n```\n\n**הסברים:**\n\n* **תכונות:**\n    * הוספתי תכונות נוספות המבוססות על ניסיונו של שלומי: \n        * **הכשרה:** הוא סיפק הכשרה לעובדים.\n        * **תקשורת:** הוא תיאם עם מפיצים ושווקים.\n        * **יחסים בין אישיים:** הוא פיתח קשרים עם גורמים שונים.\n        * **ניהול זמן:** הוא ניהל 200 דונם וצוות גדול.\n        * **עבודה קשה:** הוא ציין שהוא איש חקלאות מסור.\n* **עבודות מתאימות:**\n    * לא השתנו.\n\n**הערות:**\n\n* **איסוף נתונים:** חשוב לציין שאין מספיק מידע בקורות החיים כדי לבצע אנליזה מדויקת.\n* **שיפוט אנושי:** התכונות והעבודות המוצגות הן רק הצעות. שיפוט אנושי הוא חיוני להחלטות לגבי התאמה לעבודה.\n",
            ],
        },
        {
            "role": "user",
            "parts": [
                "תחזיר לי תשובה של JSON בלבד",
                "תוציא רק את התכונות בין אישיות של המשתמש",
                "תוציא לי שוב את התכונות של הקורות חיים שהגשתי",
            ],
        },
        {
            "role": "model",
            "parts": [
                "```json\n{\n  \"תכונות\": [\n    \"אחריות\",\n    \"יכולת עבודה עצמאית\",\n    \"פתרון בעיות\",\n    \"יכולת עבודה תחת לחץ\",\n    \"הכשרה\",\n    \"תקשורת\",\n    \"יחסים בין אישיים\",\n    \"ניהול זמן\",\n    \"עבודה קשה\"\n  ]\n}\n```\n",
            ],
        },
    ]
)
